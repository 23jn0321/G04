<!--<?php
$ary = [
    ["ゲーム","音楽","スポーツ","勉強"],
    ["FPS","ソシャゲ","ボードゲーム"],
    ["邦ロック","J-POP","K-POP"],
    ["サッカー","バスケットボール","野球"],
    ["バレー","スキー・スノボ","卓球"],
];

var_dump($ary[1]);

?>

<p>大ジャンル：
  <label class="selectbox-3" id="selectbox-ex1">
    <select>
      <option value="1">$ary[1]</option>
    </select>
</label>

-->




<script>
    let inputCount = 4;
    document.addEventListener('DOMContentLoaded', () => {
        const mainGenreSelect = document.getElementById('genreName');
        if (!mainGenreSelect) {
            console.error('Element with id "genreName" not found');
            return;
        }

        const subGenreContainer = document.getElementById('subGenreContainer');
        const genres = [
            ['ゲーム', ['RPG', 'シューティング', 'パズル', 'アクション', 'MMORPG', 'ホラー']],
            ['音楽', ['クラシック', 'ロック', 'ジャズ']],
            ['スポーツ', ['サッカー', 'バスケットボール', 'テニス', '野球', '水泳']],
            ['勉強', ['数学', '英語']]
        ];

        // メインジャンルが選ばれた際に処理を行う
        mainGenreSelect.addEventListener('change', (event) => {
            const genreName = event.target.value;
            console.log("Selected genre:", genreName); // デバッグ用

            // サブジャンル入力フォームをリセット
            const form = subGenreContainer.querySelector('form');
            if (!form) {
                console.error("Form element not found within subGenreContainer");
                return;
            }

            const existingInputs = form.querySelectorAll('input[type="text"]');
            existingInputs.forEach((input, index) => {
                if (index < 4) {
                    // Reset the first 4 inputs
                    input.value = '';
                    input.placeholder = '';
                } else {
                    // Remove additional inputs beyond the first 4
                    input.remove();
                }
            });

            // Reset input count
            inputCount = 4;

            // 選択されたジャンルに対応するサブジャンルを表示
            for (const [mainGenre, subGenres] of genres) {
                if (genreName === mainGenre) {
                    const inputs = form.querySelectorAll('input[type="text"]');
                    inputs.forEach((input, index) => {
                        if (index < subGenres.length) {
                            input.value = subGenres[index];
                            input.setAttribute('readonly', 'true');
                        }
                    });
                    break; // 見つかったらループを抜ける
                }
            }
        });
    });